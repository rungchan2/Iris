## 오늘의 투두

### 일반 유저 예약 플로우
1. [X] 한 작가의 예약페이지에 들어갔더니 다른 작가의 예약 내용이 예약 날짜 캘린더에 뜸. path params 에서 작가 id 값을 가져올 수있으니 가능한 slot은 현제 페이지의 작가의 예약가능한 시간만 보이게 필터링 하기.
2. [X] 현재 과거에 촬영 예약 문의의 4번째 단계에 넣어달라고 했던게 반영이 되지 않았어. 이미 inquiries 테이블에 필드는 생성한거 같은데 프론트에 반영이 안되어있네. : 작가 별 예약 페이지(personal-info-form.tsx)에서 예약전 최종 질문으로 4가지를 추가 해줘. 이건 inquries 테이블에 추가적인 필드를 추가해야해. 그리고 지금 촬영 예약 입력 폼이 3단계인데 내가 주는 4개의 질문은 4단계에 배치해줘. 
- 질문 : [
    “처음 보는 사람과 대화는 많이 or 적게?”, “어떤 주제로 대화하는 걸 좋아하세요?”, “좋아하시는 음악이 있으신가요?”, “이번 촬영은 본인에게 어떤 의미인가요?”]
3. [X] 작가 상세 페이지에서 작가 소개 영상 볼 수 있는 버튼과 모달 만들기. 이미 메인 페이지에 있는 작가 소개 섹션에 만들어둔거 가져와서 쓰기.
4. [X] 작가 프로필 및 여러페이지에 avatar 가 많은데, 여기에 지금 작가의 프로필 사진을 제대로 불러오고 있지 않아. 

### 작가플로우 점검

1. [X] 문의, 리뷰등의 정보가 작가 자신의 내용만 보이도록 필터링.
2. [X] 문의 관리 페이지의 내용 react custom hook 으로 빼서 관리. 상태 변경 및 필터링에 용이 하도록
3. [X] 새롭게 추가된 예약시 작성해야하는 4가지 문항 (필드: conversation_preference. conversation_topics, favorite_music, shooting_meaning) 상세 보기 페이지에 보여지게 하기. 그리고 상세 보기 페이지의 라우트가 지금 다른페이지에 있는데 이거 옮겨 오기. 
4. [X] 작가가 slot 만들때 고정된 45분이 아닌 자신이 원하는 시간 만큼을 number 로 입력해서 slot 을 open 할 수 있도록 하기.
5. [X] 리뷰는 문의 들어온 모든 사람들에게 상태에 상관없이 생성할 수있도록 하기. 현재는 완료된 사람들에 대해서만 할 수 있는데 상관없이 요청 할 수있게 하기.
6. [X] 리뷰 관리 페이지에 현재는 모든 사람의 inquiry 에 대해 다 볼 수 있는데 자신의 문의에 대해서만 필터링 되어야 해. 이때 inquiries 테이블에 있는 photographer_id 필드를 이용해서 필터링을 해줘. 또한 리뷰링크 생성 버튼을 눌렀을 때 Inquiry not found or unauthorized 라는 오류가 뜨는데 이거 해결해줘.
7. [X] photographers 테이블의 id 값은 auth.users 에서 참조 해야해. admins 테이블 처럼.
8. [ ] 작가 개인 설정 페이지에 작가의 기본 입력 (경력, 작가 소개등등 현재 photoprahers 테이블을에서수정되어야하는 내용들을 수정할 수 있도록 해줘.)


### 어드민 플로우 점검

1. [X] 어드민 로그인 페이지 생성. 회원가입 페이지는 필요없음. 기존 로그인을 복사해서 사용하기. 라우트는 /login/admin으로 하기. 로그인 페이지에 어드민 로그인 하기 링크 추가.
2. [X] 어드민 생성 플로우 점검. photographers 테이블에서 분리 되어 관리 되는 admin 테이블에 맞춰서 어드민 계정 생성 플로우 수정.
3. [ ] 어드민과 작가 권한에 대한 auth guard 점검. 각 컴포넌트와 페이지에서 잘 권한을 막고있는지 점검.
4. [X] 가입 페이지 승인 플로우 점검 하기.


---
## 추가 작업


1. [X] admin_portfolio_photos 삭제후 포트폴리오 사진 저장용도는 photos 테이블 사용하는 것으로 병합하기. 현재 작가 가입 페이지에서 마지막 단계 회원가입하기 누르면 workflow 적으로 policy 문제가 업로독 회원가입 후 업로드 되도록 해야함. 또한 회원 가입 후 승인이 되지않은 작가는 작가 페이지 접근이 되지 않도록 해야해. 그리고 승인 되지 않은 작가는 fallback 으로 이 페이지에서 다른 UI 가 보여야할거 같애. /photographer-admin/* 페이지들에 대해서. 
2. [X] admin_portfolio_photos 삭제에 따라서 함수 수정과 테이블 참조, 컴포넌트 내 데이터 불러오기 수정, 그리고 타입 수정이 되어야 해. 이건 작가 포트폴리오(작가 상세 페이지도 포함이야.)