# 사진작가 매칭 시스템 설계 명세서

## 시스템 개요

### 핵심 목표
**10문항 설문을 통해 고객의 촬영 니즈를 다차원으로 분석하고, 가장 적합한 사진작가를 AI 기반으로 매칭하는 시스템**

사진 촬영은 단순한 서비스 구매가 아닌 개인의 감정과 스토리를 시각화하는 예술적 협업 과정입니다. 이 시스템은 고객의 심리적 성향, 스타일 선호도, 소통 방식을 종합 분석하여 최적의 작가-고객 매칭을 구현합니다.

---

## 설계 철학 및 의도

### 1. 다차원 분석을 통한 정교한 매칭

**기존 문제점:**
- 단순 가격/지역 기반 매칭의 한계
- 작가의 기술적 능력만 고려하고 성향 호환성 무시
- 고객의 심리적 편안함과 소통 스타일 미반영

**설계 의도:**
촬영 경험의 품질은 기술적 완성도뿐만 아니라 작가-고객 간의 화학적 조화에 크게 좌우됩니다. 4차원 분석 체계를 통해 다음을 구현:

- **스타일/감성 (40%)**: 시각적 결과물의 만족도
- **소통/심리 (30%)**: 촬영 현장에서의 편안함과 협력
- **목적/스토리 (20%)**: 촬영 의도와 작가 전문성의 일치
- **동반자 (10%)**: 실용적 촬영 조건의 호환성

### 2. 점진적 학습이 가능한 데이터 수집 구조

**설계 의도:**
초기 룰 기반 매칭에서 시작하여 축적된 데이터를 통해 AI 모델로 진화하는 3단계 로드맵:

**MVP (룰 기반)**
- 수작업으로 설정한 가중치와 임베딩 유사도
- 빠른 출시와 초기 사용자 피드백 수집

**V2 (기본 AI)**
- 클릭률/문의율 예측 모델
- 가중치 자동 튜닝

**V3 (고도화 AI)**
- 만족도 예측 및 개인화 추천
- 개별 사용자 선호 학습

이러한 단계적 접근을 통해 과도한 초기 복잡성 없이 장기적 확장성을 확보합니다.

### 3. 익명성과 접근성의 균형

**설계 의도:**
사진 촬영 문의는 개인적이고 민감한 결정입니다. 로그인 없이도 완전한 매칭 경험을 제공하여:

- **심리적 진입장벽 제거**: 부담 없는 탐색 환경
- **프라이버시 보호**: 개인정보 최소 수집
- **즉시성**: 복잡한 가입 절차 없이 바로 결과 확인

세션 토큰 기반 시스템으로 익명성과 연속성을 동시에 보장합니다.

---

## 핵심 설계 결정사항

### 1. 4차원 매칭 체계 선택 이유

**스타일/감성을 최우선 (40%)**
촬영 결과물에 대한 만족도가 전체 경험의 핵심이므로 가장 높은 가중치를 부여. 이미지 선택, 키워드, 조명 선호도를 통합 분석.

**소통/심리의 중요성 강조 (30%)**
촬영은 작가와 고객 간의 협업 과정이므로 심리적 편안함과 소통 방식의 호환성이 결과물 품질에 직접적 영향.

**목적/스토리의 전문성 (20%)**
촬영 목적과 작가의 전문 분야 일치도. 인물/가족/프로필 등 장르별 전문성 반영.

**동반자 조건의 실용성 (10%)**
기본적인 촬영 조건 호환성. 하드 필터 겸용으로 불가능한 매칭 사전 제거.

### 2. pgvector 기반 임베딩 매칭 채택

**의도:**
전통적인 태그 기반 매칭의 한계를 극복하고 semantic similarity를 통한 미묘한 감성 차이까지 포착.

**기술적 선택 근거:**
- OpenAI text-embedding-3-small: 한국어 감성 표현 우수
- 1536차원 벡터: 충분한 표현력과 효율성의 균형
- IVFFLAT 인덱스: 실시간 검색 성능 보장

### 3. 키워드 하드 필터 + 보너스 점수 시스템

**설계 의도:**
키워드는 작가의 전문성을 가장 명확히 드러내는 지표이므로 이중 활용:

1. **하드 필터**: 전혀 맞지 않는 작가 제외
2. **차등 보너스**: 전문도에 따른 세밀한 점수 조정
   - 1개 매칭: 50% (0.025)
   - 2개 매칭: 70% (0.035)  
   - 3개+ 매칭: 100% (0.05)

### 4. 관리자 중심의 시스템 조정 권한

**의도:**
AI 모델이 완성되기 전까지 인간의 직관과 피드백을 통한 지속적 개선:

- **실시간 질문/선택지 수정**: 사용자 응답 패턴에 따른 즉각 조정
- **가중치 실험**: 성과 데이터 기반 가중치 최적화
- **작가 프로필 관리**: 품질 관리를 통한 매칭 정확도 향상

---

## 사용자 경험 설계

### 고객 Journey

**1단계: 몰입형 설문 (10문항)**
- 질문 순서: 목적 → 동반자 → 심리적 요소 → 감성적 요소 → 주관식
- 진행률 표시와 부드러운 애니메이션으로 이탈 방지
- 이미지 선택을 통한 직관적 스타일 표현

**2단계: 매칭 결과 (상위 20명)**
- 순위별 4차원 점수 시각화
- 매칭 이유 설명과 작가 하이라이트
- 즉시 문의 연결 및 프로필 미리보기

**3단계: 피드백 수집**
- 매칭 만족도 및 실제 예약 여부 추적
- 익명성 보장하면서 개선 데이터 수집

### 작가 Experience

**프로필 완성도 기반 노출**
4차원 설명이 모두 완성된 작가만 매칭 대상에 포함하여 품질 보장.

**성과 추적 대시보드**
- 개인별 매칭 순위 분포
- 클릭률/문의율 통계
- 경쟁 작가 대비 성과 분석
- 프로필 개선 제안

---

## 데이터 수집 및 학습 전략

### 핵심 수집 지표

**입력 특성 (Features)**
- 사용자 응답 패턴 (10문항)
- 4차원 점수 조합
- 순위 및 키워드 보너스
- 시간대/요일 등 컨텍스트

**라벨 데이터 (Labels)**
- **즉시 라벨**: 결과 조회 여부 (viewed_at)
- **중간 라벨**: 작가 클릭 (clicked_at), 문의 전송 (contacted_at)
- **최종 라벨**: 실제 예약 (was_booked), 만족도 점수 (rating)

### 학습 목표별 모델 설계

**클릭 예측 모델 (V2)**
- 목표: 매칭 결과에서 어떤 작가가 클릭될 확률 예측
- 특성: 4차원 점수, 순위, 기본 메타데이터
- 활용: 결과 순서 최적화

**만족도 예측 모델 (V3)**
- 목표: 최종 촬영 만족도 예측
- 특성: 모든 수집 데이터 + 작가 과거 성과
- 활용: 가중치 자동 튜닝, 매칭 품질 개선

**개인화 추천 (V4)**
- 목표: 개별 사용자 맞춤 가중치 학습
- 특성: 사용자 행동 이력, 선호 패턴
- 활용: 개인별 최적화된 매칭

---

## 기술적 구현 전략

### 확장 가능한 아키텍처

**임베딩 관리**
- 사전 계산된 임베딩 (질문 선택지, 작가 프로필)
- 실시간 계산 (주관식 응답만)
- 백그라운드 재생성 큐 시스템

**성능 최적화**
- pgvector IVFFLAT 인덱스
- 하드 필터 우선 적용으로 계산량 최소화
- React Query 기반 클라이언트 캐싱

**모니터링 및 분석**
- 매칭 성능 실시간 로깅
- 사용자 행동 패턴 추적
- A/B 테스트 준비된 인프라

### 품질 관리 체계

**작가 프로필 품질**
- 4차원 설명 완성도 체크
- 임베딩 유사도 기반 중복 감지
- 정기적 프로필 업데이트 유도

**매칭 품질 모니터링**
- 실시간 전환율 추적
- 이상치 감지 및 알림
- 피드백 기반 지속적 개선

---

## 비즈니스 영향 및 확장성

### 단기 목표 (MVP)
- 기존 수동 매칭 대비 효율성 향상
- 고객 만족도 정량적 측정 기반 구축
- 작가별 성과 투명성 제공

### 중기 목표 (V2-V3)
- AI 기반 자동 최적화로 매칭 정확도 향상
- 개인화 서비스로 고객 충성도 증대
- 데이터 기반 작가 교육 프로그램

### 장기 목표 (V4+)
- 완전 자동화된 매칭 시스템
- 예측 분석 기반 비즈니스 인텔리전스
- 타 지역/국가 확장을 위한 문화 적응형 모델

이 시스템은 단순한 매칭 도구를 넘어 사진 촬영 산업의 디지털 전환을 이끄는 플랫폼으로 발전할 수 있는 기반을 제공합니다.